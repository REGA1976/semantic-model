{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "@id": "http://ocora.io/model/transport/truck/groupage/forwarding/manifest.json",
    "title": "Manifest",
    "titleMap": {
        "en": "Manifest",
        "de": "Bordero"
    },
    "descriptionMap": {
        "en": "A manifest describes multiple consignments which are forwarded from one partner to another at the same time.",
        "de": "Das Bordero beschreibt mehrere Sendungen, die gleichzeitig von einem Partner an einen anderen weitergeleitet werden"
    },
    "type": "object",
    "properties": {
        "manifestId": {
            "title": "Manifest id",
            "titleMap": {
                "en": "Manifest id",
                "de": "Bordero-Nummer"
            },
            "type": "string"
        },
        "shippingDate": {
            "title": "Manifest date",
            "titleMap": {
                "en": "Manifest date",
                "de": "Bordero Datum"
            },
            "type": "string"
        },
        "sender": {
            "titleMap": {
                "en": "Data Origin",
                "de": "Daten-Quelle"
            },
            "descriptionMap": {
                "en": "The sender of the current record. This usually equals to the ordering party unless the record is a copy that was generated by some other component. In this case the sender can be different from the ordering party",
                "de": "Der Versender des Datensatzes. Dies ist in der Regel der Versandpartner bzw. der beauftragende Partner. Er kann jedoch abweichen, wenn ein Dritter eine Kopie erzeugt und weiterleitet."
            },
            "examples": [
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.senderMailboxId",
                    "networkId": "CL",
                    "value": "SCHAESW"
                },
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.senderMailboxId",
                    "networkId": "SYA",
                    "value": "HELLM00"
                },
                {
                    "ediFormat": "EDIFACT",
                    "location": "UNB/S002/Field0004"
                }
            ],
            "$ref": "#/definitions/partnerIdentification"
        },
        "receiver": {
            "titleMap": {
                "en": "Data Recipient",
                "de": "Daten-Empfänger"
            },
            "descriptionMap": {
                "en": "The intended recipient of the the current record. This usually equals to the contracted party unless the record is intentionally sent to another system.",
                "de": "Der Empfänger des Datensatzes. Dies ist in der Regel der Empfangspartner bzw. der beauftragte Partner. Er kann jedoch abweichen, wenn der Datensatz gezielt an ein anderes System übertragen werden soll."
            },
            "examples": [
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.receiverMailboxId",
                    "networkId": "CL",
                    "value": "SCHAESW"
                },
                {
                    "ediFormat": "REL100",
                    "location": "packageHeader.receiverMailboxId",
                    "networkId": "SYA",
                    "value": "HELLM00"
                },
                {
                    "ediFormat": "EDIFACT",
                    "location": "UNB/S003/Field0010"
                }
            ],
            "$ref": "#/definitions/partnerIdentification"
        },
        "networkId": {
            "titleMap": {
                "en": "Network",
                "de": "Netzwerk"
            },
            "descriptionMap": {
                "en": "The network under which rules the consignment should be processed",
                "de": "Das Netzwerk, unter dessen Regeln die Sendung abgewickelt werden soll."
            },
            "type": "object",
            "properties": {
                "networkId": {
                    "titleMap": {
                        "en": "Name of the network",
                        "de": "Name des Netzwerks"
                    },
                    "descriptionMap": {
                        "en": "The name of the network. This is often identical to the name of the code list. Since the same code list may however be used outside the network, this field independently allows to specify the network.",
                        "de": "Der Name des Netzwerk. Dieser ist in der Regel identisch mit der Code-Liste. Da die Code-Liste des Netzwerks jedoch auch für bilaterale Vereinbarungen genutzt werden kann, kann das Netzwerk als solches unabhängig angegeben werden"
                    },
                    "type": "string"
                },
                "codelist": {
                    "titleMap": {
                        "en": "Name of the code list used",
                        "de": "Name der Codeliste"
                    },
                    "descriptionMap": {
                        "en": "The name of the code list which specifies how the receiving system should interpret the codes used",
                        "de": "Der Name der verwendeten Code-Liste, die angibt, wie ein empfangendes System die Werte zu interpretieren hat"
                    },
                    "type": "string"
                },
                "product": {
                    "titleMap": {
                        "en": "Name of the product",
                        "de": "Name des Produkts"
                    },
                    "descriptionMap": {
                        "en": "The product allows to distingish different processes within one network, effectively sub classing the network.",
                        "de": "Das Produkt erlaubt verschiedene Prozesse innerhalb eines Netzwerks weiter zu unterscheiden und ermöglicht somit eine Unterteilung des Netzwerks in verschiedene Bereiche."
                    },
                    "type": "string"
                }
            },
            "patternProperties": {
                "x-.*": {},
                "\\$.*": {}
            },
            "additionalProperties": false
        },
        "additionalPartners": {
            "titleMap": {
                "en": "Additional partners which are involved in the forwading of the consignment",
                "de": "Weitere Partner, die in die Weiterleitung der Sendung eingebunden sind"
            },
            "type": "array",
            "items": {
                "$ref": "#/definitions/partnerIdentification"
            }
        },
        "shippingPartner": {
            "titleMap": {
                "en": "Shipping partner",
                "de": "Versandpartner"
            },
            "descriptionMap": {
                "en": "The partner which is sending the consignment to the receiving partner for further delivery.",
                "de": "Der Partner, der die Sendung an den Empfangspartner für die weitere Zustellung sendet."
            },
            "examples": [
                {
                    "ediFormat": "REL100",
                    "location": "A00.65-99",
                    "networkId": "CL",
                    "value": "4974"
                },
                {
                    "ediFormat": "REL100",
                    "location": "A00.65-99",
                    "networkId": "SYA",
                    "value": "3100"
                },
                {
                    "ediFormat": "EDIFACT",
                    "location": "SG5/SG9/NAD+CS/Field3035"
                }
            ],
            "$ref": "#/definitions/partnerIdentification"
        },
        "receivingPartner": {
            "titleMap": {
                "en": "Receiving partner",
                "de": "Empfangspartner"
            },
            "descriptionMap": {
                "en": "The partner which is receiving the goods declared on the manifest from the shipping partner for further delivery.",
                "de": "Der Partner, der die auf dem Bordero aufgelisteten Sendungen für die weitere Zustellung empfängt."
            },
            "examples": [
                {
                    "ediFormat": "REL100",
                    "location": "A00.100-134",
                    "networkId": "CL",
                    "value": "4974"
                },
                {
                    "ediFormat": "REL100",
                    "location": "A00.100-134",
                    "networkId": "SYA",
                    "value": "3100"
                },
                {
                    "ediFormat": "EDIFACT",
                    "location": "SG5/SG9/NAD+CZ/Field3035"
                }
            ],
            "$ref": "#/definitions/partnerIdentification"
        },
        "carrier": {
            "titleMap": {
                "en": "Company responsible for the actual transpor of the goods from the shiupping partner to the receiving partner",
                "de": "Firma, die für den Transport vom VP zum EP verantwortlich ist."
            },
            "type": "object",
            "$ref": "#/definitions/nameAndAddress"
        },
        "vehicles": {
            "titleMap": {
                "en": "Information about the vehicles used in the transport",
                "de": "Informationen zu den eingesetzten Fahrzeugen"
            },
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "registration": {
                        "titleMap": {
                            "en": "Official registration of the vehicle (e.g. license plate number)",
                            "de": "KFZ-Kennzeichen (oder vergleichbare offizielle Registrierungsnummer)"
                        },
                        "type": "string"
                    }
                },
                "patternProperties": {
                    "x-.*": {},
                    "\\$.*": {}
                },
                "additionalProperties": false
            }
        },
        "loadUnits": {
            "titleMap": {
                "en": "Load units (containers, swap bodies, ...) used to transport the goods",
                "de": "Ladeeinheiten/Gefäße/Container (z.B. Wechselbrücken, Auflieger, Container, ...) in denen die Ware transportiert wird"
            },
            "type": "array",
            "items": {
                "properties": {
                    "identification": {
                        "titleMap": {
                            "en": "Identification (e.g. registration number) of the unit",
                            "de": "Eindeutige Kennzeichnung (z.B. Registrier-Nummer) der Ladeeinheit"
                        },
                        "type": "string"
                    },
                    "seals": {
                        "titleMap": {
                            "en": "Seals used to prevent tampering with the goods in the load unit",
                            "de": "Plomben der Ladeeinheit"
                        },
                        "type": "array",
                        "items": {
                            "titleMap": {
                                "en": "Numbers of the seals used to prevent tampering with the goods in the load unit",
                                "de": "Nummern der Plomben, die an der Load Unit angebracht sind"
                            },
                            "type": "object",
                            "properties": {
                                "code": {
                                    "titleMap": {
                                        "en": "Code / number of the seal",
                                        "de": "Code / Nummer der plombe"
                                    },
                                    "type": "string"
                                }
                            },
                            "patternProperties": {
                                "x-.*": {},
                                "\\$.*": {}
                            },
                            "additionalProperties": false
                        }
                    }
                },
                "patternProperties": {
                    "x-.*": {},
                    "\\$.*": {}
                },
                "additionalProperties": false
            }
        },
        "additionalLoadingEquipment": {
            "titleMap": {
                "en": "Additional loading equipment used to securely load the goods into for the passage",
                "de": "Zusätzliche Ladehilsmittel, die zur Ladungssicherung eingesetzt wurden"
            },
            "type": "object",
            "properties": {
                "eurPallets": {
                    "title": "EPAL",
                    "titleMap": {
                        "de": "Euro-Paletten"
                    },
                    "description": "EUR pallets as defined by European Pallet Association (EPAL)",
                    "descriptionMap": {
                        "de": "Euro-Flachpaletten EUR, gemäß European Pallet Association (EPAL)"
                    },
                    "type": "integer"
                },
                "eurBoxes": {
                    "title": "EUR box pallets",
                    "description": "EUR Box pallets as defined by European Pallet Association (EPAL)",
                    "titleMap": {
                        "de": "EUR Gitterboxen"
                    },
                    "descriptionMap": {
                        "de": "Gitterboxen, gemäß European Pallet Association (EPAL)"
                    },
                    "type": "integer"
                }
            },
            "patternProperties": {
                "x-.*": {},
                "\\$.*": {}
            },
            "additionalProperties": false
        },
        "lines": {
            "titleMap": {
                "en": "Lines of the manifest",
                "de": "Bordero-Positionen"
            },
            "type": "array",
            "items": {
                "properties": {
                    "lineNo": {
                        "titleMap": {
                            "en": "Ordinal number of the line within the manifest. Is referenced in other messages such as the unloading report.",
                            "de": "Laufende Nummer der Position innerhalb des Borderos. Wird später z.B. durch den Entladebericht referenziert"
                        },
                        "type": "integer"
                    },
                    "consignment": {
                        "$ref": "consignment.json"
                    }
                },
                "patternProperties": {
                    "x-.*": {},
                    "\\$.*": {}
                },
                "additionalProperties": false
            }
        }
    },
    "patternProperties": {
        "x-.*": {},
        "\\$.*": {}
    },
    "additionalProperties": false,
    "definitions": {
        "nameAndAddress": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "additionalAddressLines": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "street": {
                    "type": "string"
                },
                "countryCode": {
                    "type": "string"
                },
                "zipCode": {
                    "type": "string"
                },
                "city": {
                    "type": "string"
                },
                "townarea": {
                    "type": "string"
                }
            }
        },
        "partnerIdentification": {
            "type": "object",
            "anyOf": [
                {
                    "$ref": "#/definitions/ediId"
                },
                {
                    "$ref": "#/definitions/partnerId"
                },
                {
                    "$ref": "#/definitions/address"
                }
            ]
        },
        "ediId": {
            "type": "object",
            "properties": {
                "ediId": {
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "ediId"
            ]
        },
        "partnerId": {
            "type": "object",
            "properties": {
                "partnerId": {
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "partnerId"
            ]
        },
        "address": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "additionalAddressLines": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "street": {
                    "type": "string"
                },
                "countryCode": {
                    "type": "string"
                },
                "zipCode": {
                    "type": "string"
                },
                "city": {
                    "type": "string"
                },
                "townarea": {
                    "type": "string"
                }
            },
            "required": [
                "name"
            ]
        }
    }
}